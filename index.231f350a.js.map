{"mappings":"AAEA,MAAMA,EAAO,CACTC,YAAaC,SAASC,cAAc,iBACpCC,OAAQF,SAASC,cAAc,WAC/BE,MAAOH,SAASC,cAAc,UAC9BG,QAASJ,SAASC,cAAc,cAcpC,SAASI,IACLP,EAAKI,OAAOI,UAAUC,IAAI,WAC1BC,QAAQC,IAAI,M,CAGhB,SAASC,IACLZ,EAAKI,OAAOI,UAAUK,OAAO,WAC7BH,QAAQC,IAAI,S,CAOhB,SAASG,IACLd,EAAKK,MAAMG,UAAUK,OAAO,U,CAkB9B,SAASE,IACTf,EAAKM,QAAQE,UAAUK,OAAO,U,CAoBhC,SAASG,EAAmBC,GAC1B,MAAMC,EAAkBD,EAAME,OAAOC,MCrDvC,IAAyBC,EDsDvBT,IACCG,IA9CDf,EAAKK,MAAMG,UAAUC,IAAI,YCTFY,ED0DPH,ECzDTI,MAAM,sIAA2CD,KACrDE,MAAMC,IACL,IAAKA,EAAIC,GACP,MAAM,IAAIC,MAAM,uBAElB,OAAOF,EAAIG,MAAM,IAElBJ,MAAMK,IACL,MAAMC,EAAUD,EAAK,GACrB,MAAO,CACLE,SAAUD,EAAQE,IAClBC,UAAWH,EAAQI,OAAO,GAAGC,KAC7BC,YAAaN,EAAQI,OAAO,GAAGE,YAC/BC,YAAaP,EAAQI,OAAO,GAAGG,YAChC,IACAC,OAAMC,GAAK5B,QAAQC,IAAI2B,EAAIC,YD2C7BhB,MAAMM,IACL7B,EAAKM,QAAQkC,UAAY,GA3C/B,SAAqBX,GACnB,MAAMvB,EAAUN,EAAKM,QACrBA,EAAQkC,UAAY,yBAENX,EAAQC,oEAEdD,EAAQG,wDACqBH,EAAQM,yDACRN,EAAQO,kCAG7C9B,EAAQE,UAAUK,OAAO,U,CAiCrB4B,CAAYZ,GACZtB,GAAY,IAEb8B,OAAOhC,IACNK,QAAQL,MAAM,qBAAsBA,GACpCS,IACAP,GAAY,G,CAIlBL,SAASwC,iBAAiB,oBApCxB,WACE9B,IACAG,ICtDKO,MAAM,qHACVC,MAAMC,IACL,IAAKA,EAAIC,GACP,MAAM,IAAIC,MAAM,0BAElB,OAAOF,EAAIG,MAAM,IAElBJ,MAAMU,GACEA,EAAOU,KAAKC,IACV,CACLC,GAAID,EAAMC,GACVX,KAAMU,EAAMV,WAGfG,OAAMC,GAAK5B,QAAQC,IAAI2B,EAAIC,WD2C7BhB,MAAMU,KArDX,SAAoBA,GAClB,MAAMa,EAAgB9C,EAAKC,YAE3BgC,EAAOc,SAASH,IACd,MAAMI,EAAgB9C,SAAS+C,cAAc,UAC7CD,EAAc5B,MAAQwB,EAAMC,GAC5BG,EAAcE,YAAcN,EAAMV,KAClCY,EAAcK,YAAYH,EAAc,G,CA+CtCI,CAAWnB,GACXjC,EAAKC,YAAYyC,iBAAiB,SAAU1B,GAC5CT,GAAY,IAEb8B,OAAOhC,IACNK,QAAQL,MAAM,wBAAyBA,GACvCS,IACAP,GAAY,G","sources":["src/index.js","src/cat-api.js"],"sourcesContent":["import { fetchBreeds, fetchCatByBreed } from \"./cat-api.js\";\n\nconst refs = {\n    breedSelect: document.querySelector('.breed-select'),\n    loader: document.querySelector('.loader'),\n    error: document.querySelector('.error'),\n    catInfo: document.querySelector('.cat-info'),\n};\n\nfunction fillSelect(breeds) {\n  const selectElement = refs.breedSelect;\n\n  breeds.forEach((breed) => {\n    const optionElement = document.createElement(\"option\");\n    optionElement.value = breed.id;\n    optionElement.textContent = breed.name;\n    selectElement.appendChild(optionElement);\n  });\n};\n\nfunction hideLoader() {\n    refs.loader.classList.add(\"visible\");\n    console.log(\"add\");\n};\n\nfunction showLoader() {\n    refs.loader.classList.remove(\"visible\");\n    console.log(\"remove\");\n};\n\nfunction hideError() {\n  refs.error.classList.add(\"visible\");\n}\n\nfunction showError() {\n    refs.error.classList.remove(\"visible\");\n    \n};\n\nfunction showCatInfo(catData) {\n  const catInfo = refs.catInfo;\n  catInfo.innerHTML = `\n    \n    <img src=\"${catData.imageUrl}\" alt=\"Cat Image\" />\n    <div class=\"wrapper\">\n    <h2>${catData.breedName}</h2>\n    <p><strong>Description:</strong> ${catData.description}</p>\n    <p><strong>Temperament:</strong> ${catData.temperament}</p>\n    </div>\n  `;\n  catInfo.classList.remove(\"visible\");\n}\n\n  function hideCatInfo() {\n  refs.catInfo.classList.remove(\"visible\");\n  };\n\n  function loadBreeds() {\n    showLoader();\n    hideCatInfo();\n\n     fetchBreeds()\n    .then((breeds) => {\n      fillSelect(breeds);\n      refs.breedSelect.addEventListener(\"change\", handleSelectChange);\n      hideLoader();\n    })\n    .catch((error) => {\n      console.error(\"Error loading breeds:\", error);\n      showError();\n      hideLoader();\n    });\n}\n\nfunction handleSelectChange(event) {\n  const selectedBreedId = event.target.value;\n  showLoader();\n   hideCatInfo();\n  hideError();\n\n  fetchCatByBreed(selectedBreedId)\n    .then((catData) => {\n      refs.catInfo.innerHTML = \"\";\n      showCatInfo(catData);\n      hideLoader();\n    })\n    .catch((error) => {\n      console.error(\"Error loading cat:\", error);\n      showError();\n      hideLoader();\n    })\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", loadBreeds);\n\n\n\n\n\n","const API_KEY = \"live_aREgESGKEg14yGujzwJ7hCdukQBm1j3x2BshFCVyWS75bgzJPj3wCqqzbe0TrawT\";\nconst BREEDS_URL = \"https://api.thecatapi.com/v1/breeds\";\nconst CAT_URL = \"https://api.thecatapi.com/v1/images/search\";\n\nfunction fetchBreeds() {\n  return fetch(`${BREEDS_URL}?api_key=${API_KEY}`)\n    .then((res) => {\n      if (!res.ok) {\n        throw new Error(\"Failed to fetch breeds\");\n      }\n      return res.json();\n    })\n    .then((breeds) => {\n      return breeds.map((breed) => {\n        return {\n          id: breed.id,\n          name: breed.name,\n        };\n      });\n    }).catch(err=>console.log(err.message));\n}\n\nfunction fetchCatByBreed(breedId) {\n  return fetch(`${CAT_URL}?api_key=${API_KEY}&breed_ids=${breedId}`)\n    .then((res) => {\n      if (!res.ok) {\n        throw new Error(\"Failed to fetch cat\");\n      }\n      return res.json();\n    })\n    .then((data) => {\n      const catData = data[0];\n      return {\n        imageUrl: catData.url,\n        breedName: catData.breeds[0].name,\n        description: catData.breeds[0].description,\n        temperament: catData.breeds[0].temperament,\n      };\n    }).catch(err=>console.log(err.message));\n}\n\nexport { fetchBreeds, fetchCatByBreed };\n\n\n\n\n\n\n\n\n\n"],"names":["$1f0dc3b9307be026$var$refs","breedSelect","document","querySelector","loader","error","catInfo","$1f0dc3b9307be026$var$hideLoader","classList","add","console","log","$1f0dc3b9307be026$var$showLoader","remove","$1f0dc3b9307be026$var$showError","$1f0dc3b9307be026$var$hideCatInfo","$1f0dc3b9307be026$var$handleSelectChange","event","selectedBreedId","target","value","breedId","fetch","then","res","ok","Error","json","data","catData","imageUrl","url","breedName","breeds","name","description","temperament","catch","err","message","innerHTML","$1f0dc3b9307be026$var$showCatInfo","addEventListener","map","breed","id","selectElement","forEach","optionElement","createElement","textContent","appendChild","$1f0dc3b9307be026$var$fillSelect"],"version":3,"file":"index.231f350a.js.map"}